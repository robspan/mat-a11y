<!-- @a11y-pass -->
<!-- mat-progress-bar with static aria-label -->
<mat-progress-bar mode="determinate" value="50" aria-label="Loading data"></mat-progress-bar>

<!-- mat-progress-bar with Angular binding [aria-label] -->
<mat-progress-bar mode="indeterminate" [aria-label]="progressLabel"></mat-progress-bar>

<!-- mat-progress-bar with aria-labelledby -->
<span id="upload-label">Uploading files</span>
<mat-progress-bar mode="buffer" aria-labelledby="upload-label"></mat-progress-bar>

<!-- mat-progress-bar with Angular binding [aria-labelledby] -->
<mat-progress-bar mode="query" [aria-labelledby]="labelId"></mat-progress-bar>

<!-- mat-progress-bar with attr.aria-label binding -->
<mat-progress-bar [attr.aria-label]="'Processing request'"></mat-progress-bar>

<!-- Self-closing mat-progress-bar with aria-label -->
<mat-progress-bar mode="determinate" value="75" aria-label="Download progress"/>

<!-- Progress bar with live region for dynamic updates -->
<mat-progress-bar
  mode="determinate"
  [value]="uploadProgress"
  aria-label="File upload progress"
  role="progressbar"
  [attr.aria-valuenow]="uploadProgress">
</mat-progress-bar>

<!-- Dark theme progress bar with proper labeling -->
<mat-progress-bar
  mode="indeterminate"
  class="dark-theme"
  color="accent"
  aria-label="Loading dark theme content">
</mat-progress-bar>

<!-- Mobile-optimized progress bar with i18n label -->
<mat-progress-bar
  mode="buffer"
  [value]="progress"
  [bufferValue]="buffer"
  [aria-label]="'progress.loading' | translate">
</mat-progress-bar>

<!-- Progress bar with aria-valuetext for better screen reader context -->
<mat-progress-bar
  mode="determinate"
  [value]="downloadProgress"
  aria-label="Download progress"
  [attr.aria-valuetext]="downloadProgress + '% complete'">
</mat-progress-bar>

<!-- Progress bar inside labeled alert region -->
<div role="alert" aria-label="Installation in progress">
  <mat-progress-bar mode="indeterminate" aria-label="Installing dependencies"></mat-progress-bar>
</div>

<!-- @a11y-fail -->
<!-- mat-progress-bar without any label -->
<mat-progress-bar mode="determinate" value="50"></mat-progress-bar>

<!-- mat-progress-bar mode="indeterminate" without label -->
<mat-progress-bar mode="indeterminate"></mat-progress-bar>

<!-- Self-closing mat-progress-bar without label -->
<mat-progress-bar mode="buffer" value="30"/>

<!-- mat-progress-bar with empty aria-label (should fail) -->
<mat-progress-bar mode="query" aria-label=""></mat-progress-bar>

<!-- mat-progress-bar with only other attributes, no label -->
<mat-progress-bar mode="determinate" value="100" color="primary"></mat-progress-bar>

<!-- Dark theme progress bar without accessible name -->
<mat-progress-bar mode="indeterminate" color="accent" class="dark-mode-progress"></mat-progress-bar>

<!-- Mobile file upload progress without label -->
<mat-progress-bar
  mode="determinate"
  [value]="uploadPercent"
  class="mobile-upload-bar">
</mat-progress-bar>

<!-- Form submission progress in dialog without label -->
<mat-dialog-content>
  <mat-progress-bar mode="query"></mat-progress-bar>
  <p>Submitting form...</p>
</mat-dialog-content>

<!-- Stepper progress indicator without label -->
<mat-progress-bar
  mode="determinate"
  [value]="(currentStep / totalSteps) * 100"
  color="primary">
</mat-progress-bar>

<!-- API request progress without accessibility -->
<mat-progress-bar
  *ngIf="isLoading"
  mode="indeterminate"
  @fadeAnimation>
</mat-progress-bar>

<!-- @a11y-false-positive -->
<!-- Progress bar inside a labeled region -->
<div role="region" aria-label="File upload status">
  <mat-progress-bar mode="determinate" value="60"></mat-progress-bar>
</div>

<!-- Progress bar with aria-describedby providing context -->
<mat-progress-bar mode="indeterminate" aria-describedby="progress-desc"></mat-progress-bar>
<span id="progress-desc" class="sr-only">Loading user data from server</span>

<!-- Progress bar inside fieldset with legend -->
<fieldset>
  <legend>Download Progress</legend>
  <mat-progress-bar mode="buffer" value="45"></mat-progress-bar>
</fieldset>

<!-- Progress bar with adjacent live region announcing updates -->
<mat-progress-bar mode="determinate" [value]="progress"></mat-progress-bar>
<div aria-live="polite" class="cdk-visually-hidden">{{ progress }}% complete</div>

<!-- Progress bar inside status role with implicit label -->
<div role="status" aria-label="Sync in progress">
  <mat-progress-bar mode="indeterminate"></mat-progress-bar>
</div>

<!-- Progress bar with figure and figcaption -->
<figure role="group" aria-labelledby="progress-caption">
  <mat-progress-bar mode="determinate" [value]="installProgress"></mat-progress-bar>
  <figcaption id="progress-caption">Installation progress</figcaption>
</figure>

<!-- Progress bar in Material card with context from header -->
<mat-card>
  <mat-card-header>
    <mat-card-title>Backup Progress</mat-card-title>
  </mat-card-header>
  <mat-progress-bar mode="buffer" [value]="backupProgress" [bufferValue]="bufferValue"></mat-progress-bar>
</mat-card>

<!-- Progress bar with custom directive for accessibility -->
<mat-progress-bar mode="determinate" [value]="progress" [appProgressA11y]="progressConfig"></mat-progress-bar>

<!-- @a11y-false-negative -->
<!-- Progress bar with empty aria-labelledby reference -->
<span id="empty-progress-label"></span>
<mat-progress-bar mode="determinate" value="30" aria-labelledby="empty-progress-label"></mat-progress-bar>

<!-- Progress bar with aria-labelledby pointing to non-existent element -->
<mat-progress-bar mode="query" aria-labelledby="nonexistent-progress-label"></mat-progress-bar>

<!-- Progress bar with aria-label bound to undefined -->
<mat-progress-bar mode="indeterminate" [aria-label]="undefinedProgressLabel"></mat-progress-bar>

<!-- Progress bar with whitespace-only aria-label -->
<mat-progress-bar mode="determinate" value="80" aria-label="   "></mat-progress-bar>

<!-- Progress bar with aria-label bound to empty string via ternary -->
<mat-progress-bar mode="indeterminate" [attr.aria-label]="showLabel ? 'Loading' : ''"></mat-progress-bar>

<!-- Progress bar with role="progressbar" but missing aria-label -->
<mat-progress-bar mode="determinate" [value]="progress" role="progressbar"></mat-progress-bar>

<!-- Progress bar with aria-valuenow but no aria-label -->
<mat-progress-bar mode="determinate" [value]="progress" [attr.aria-valuenow]="progress"></mat-progress-bar>

<!-- Progress bar in dark mode overlay without label -->
<div class="dark-overlay">
  <mat-progress-bar mode="indeterminate" class="overlay-progress"></mat-progress-bar>
</div>

<!-- Mobile loading indicator with data attribute but no a11y -->
<mat-progress-bar
  mode="query"
  data-testid="mobile-loader"
  class="mobile-progress">
</mat-progress-bar>

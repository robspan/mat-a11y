/* @a11y-pass */
/* Good examples that should NOT trigger issues */

/* No interactive elements - no requirement */
.static-element {
  display: block;
  margin: 8px;
}

/* Interactive with adequate minimum size (44px+) */
button.good {
  min-height: 44px;
  min-width: 44px;
}

.btn-large {
  min-height: 48px;
  padding: 12px 24px;
}

.chip-ok {
  min-height: 2.75rem;
}

.toggle-ok {
  min-width: 3rem;
  min-height: 3rem;
}

/* Height set but min-height compensates */
.btn-compensated {
  height: 32px;
  min-height: 44px;
}

/* Non-interactive element with small size is fine */
.card {
  height: 20px;
  width: 30px;
}

/* Good: Angular Material button with adequate size */
.mat-button {
  min-height: 44px;
  min-width: 44px;
}

/* Good: FAB with large touch target */
.mat-fab {
  width: 56px;
  height: 56px;
}

/* Good: Mobile-specific larger touch targets */
@media (pointer: coarse) {
  .touch-friendly-btn {
    min-height: 48px;
    min-width: 48px;
  }
}

/* Good: Responsive button that scales up on touch devices */
@media (hover: none) {
  .adaptive-btn {
    min-height: 44px;
    padding: 12px 16px;
  }
}

/* Good: Dark mode button with adequate size */
@media (prefers-color-scheme: dark) {
  .dark-mode-btn {
    min-height: 44px;
    min-width: 44px;
  }
}

/* Good: High contrast mode with adequate target */
@media (forced-colors: active) {
  .hc-btn {
    min-height: 44px;
    min-width: 44px;
    border: 2px solid ButtonText;
  }
}

/* @a11y-fail */
/* Bad examples that SHOULD trigger issues */
/* WCAG 2.5.5 (AA) requires minimum 24x24px */

/* Button with explicitly small height (below 24px AA minimum) */
button.too-small {
  height: 16px;
  width: 100px;
}

/* Button with small width (below 24px AA minimum) */
.btn-narrow {
  width: 20px;
  height: 48px;
}

/* Icon button with small dimensions (below 24px AA minimum) */
.icon-btn-small {
  height: 18px;
  width: 18px;
}

/* Bad: Mat-icon-button too small */
.mat-icon-button-tiny {
  width: 20px;
  height: 20px;
}

/* Bad: Mobile touch target too small */
@media (pointer: coarse) {
  .mobile-tiny-btn {
    height: 20px;
    width: 20px;
  }
}

/* Bad: Chip with small touch target */
.mat-chip-small {
  height: 18px;
  padding: 0 6px;
}

/* Bad: Close button on snackbar too small */
.mat-snack-bar-action button {
  height: 16px;
  width: 16px;
}

/* Bad: Pagination buttons too small */
.pagination-btn {
  width: 20px;
  height: 20px;
}

/* Bad: Star rating buttons too small */
.star-rating button {
  width: 16px;
  height: 16px;
}

// @a11y-false-positive
// Small visual size but adequate touch target via padding
button.small-visual-large-target {
  font-size: 12px;
  padding: 16px;
  // Visual is small but touch target is 44px+
}

// Inline link in text (exempt per WCAG 2.5.8)
p a.inline-link {
  // Size determined by text, exempt from target size
}

// Small button only visible on desktop (not touch)
@media (hover: hover) and (pointer: fine) {
  .desktop-only-btn {
    height: 24px;
    width: 24px;
  }
}

// Touch target achieved via spacing not element size
.spaced-buttons button {
  height: 20px;
  margin: 12px; // Creates 44px touch target with spacing
}

// Small button on desktop only - adequate for mouse
@media (hover: hover) and (pointer: fine) {
  .mouse-only-btn {
    height: 28px;
    width: 28px;
    // Desktop mouse users can target small buttons
  }
}

// Visually small but uses ::before/::after for hit area
.expandable-target {
  width: 16px;
  height: 16px;
  position: relative;
  &::before {
    content: '';
    position: absolute;
    inset: -14px; // Expands hit area to 44px
  }
}

// Small dimensions but negative margin creates overlap (adequate spacing)
.close-buttons .close-btn {
  width: 20px;
  height: 20px;
  margin: -2px 12px; // Adjacent targets are 44px apart
}

// Reduced motion: static small icon (decorative, not interactive)
@media (prefers-reduced-motion: reduce) {
  .animated-indicator {
    width: 16px;
    height: 16px;
    // This becomes non-interactive in reduced motion
  }
}

// @a11y-false-negative
// Uses calc that results in small size
button.calc-small {
  height: calc(50px - 32px); // Results in 18px
  width: calc(100% / 5); // Could be small on narrow screens
}

// Percentage-based size that can become too small
.responsive-btn {
  height: 5vh; // Could be < 24px on short viewports
  width: 5vw; // Could be < 24px on narrow viewports
}

// Size set in em that depends on font-size context
.em-button {
  height: 1.5em; // If font-size is 12px, this is only 18px
  width: 1.5em;
}

// Max-height limiting the touch target
.constrained-btn {
  min-height: 44px;
  max-height: 20px; // Max-height wins, target is too small
}

// Adequate on desktop but shrinks too small on mobile
.responsive-shrink-btn {
  min-height: 44px;
  @media (max-width: 480px) {
    min-height: unset;
    height: 20px; // Mobile gets tiny target
  }
}

// Touch target via CSS variable that can be overridden
.variable-btn {
  --btn-size: 44px;
  min-height: var(--btn-size);
  min-width: var(--btn-size);
  // Parent could set --btn-size: 16px
}

// Looks adequate but transform: scale reduces actual target
.scaled-btn {
  width: 44px;
  height: 44px;
  transform: scale(0.4); // Actual target is 17.6px
}

// Aspect-ratio based sizing that fails on narrow screens
.aspect-btn {
  width: 10vw;
  aspect-ratio: 1;
  // Could be < 24px on screens < 240px wide
}

// Flex shrink causes button to collapse
.flex-row button {
  min-height: 44px;
  flex-shrink: 1; // Can shrink below minimum in tight flex container
}

// Touch target only meets AA (24px) but not AAA (44px) on touch devices
@media (pointer: coarse) {
  .aa-only-btn {
    min-height: 24px;
    min-width: 24px;
    // Meets AA but touch users need 44px
  }
}

// Dark mode button that shrinks (design inconsistency)
@media (prefers-color-scheme: dark) {
  .dark-compact-btn {
    height: 20px;
    padding: 2px 8px;
  }
}
